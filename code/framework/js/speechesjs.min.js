function dispVideo(){document.getElementById("video-player").style.display="block",document.getElementById("audio-player").style.display="none",document.getElementById("watch").style.display="block",document.getElementById("listen").style.display="none",document.getElementById("read").style.display="none"}function dispRead(){document.getElementById("transcript").style.display="block",document.getElementById("watch").style.display="none",document.getElementById("listen").style.display="none",document.getElementById("read").style.display="block",document.getElementById("discussion").style.display="none"}function dispListen(){document.getElementById("audio-player").style.display="block",document.getElementById("video-player").style.display="none",document.getElementById("watch").style.display="none",document.getElementById("listen").style.display="block",document.getElementById("read").style.display="none"}function dispDiscuss(){document.getElementById("transcript").style.display="none",document.getElementById("watch").style.display="none",document.getElementById("listen").style.display="none",document.getElementById("read").style.display="none",document.getElementById("discussion").style.display="block"}function dispDate(){document.getElementById("dispDate").className="active",document.getElementById("dispSpeaker").className="",document.getElementById("dispTopic").className="",document.getElementById("date-filter").style.display="block",document.getElementById("speaker-filter").style.display="none",document.getElementById("topic-filter").style.display="none"}function dispSpeaker(){document.getElementById("dispDate").className="",document.getElementById("dispSpeaker").className="active",document.getElementById("dispTopic").className="",document.getElementById("date-filter").style.display="none",document.getElementById("speaker-filter").style.display="block",document.getElementById("topic-filter").style.display="none"}function dispTopic(){document.getElementById("dispDate").className=" ",document.getElementById("dispSpeaker").className="",document.getElementById("dispTopic").className="active",document.getElementById("date-filter").style.display="none",document.getElementById("speaker-filter").style.display="none",document.getElementById("topic-filter").style.display="block"}function addId(e){var t=jQuery("#speaker-ids"),n=t.val();t.val(""==n?e.id:n+", "+e.id)}function removeId(e){var t=jQuery("#speaker-ids"),n=t.val(),a=new RegExp(e.id+"{1},\\W|,\\W"+e.id+"{1}$|^"+e.id+"$");t.val(n.replace(a,""))}jQuery(document).ready(function(){jQuery("#live_stream_yes:checked").val()&&jQuery("#live_stream").show(),jQuery("#video_status_yes:checked").val()&&jQuery("#video_media").show(),jQuery("#audio_status_yes:checked").val()&&jQuery("#audio_media").show(),jQuery("#transcript_status_yes:checked").val()&&jQuery("#transcript").show(),jQuery("#video_status_not_yet, #video_status_never").click(function(){jQuery("#video_media").hide()}),jQuery("#video_status_yes").click(function(){jQuery("#video_media").show()}),jQuery("#audio_status_not_yet, #audio_status_never").click(function(){jQuery("#audio_media").hide()}),jQuery("#audio_status_yes").click(function(){jQuery("#audio_media").show()}),jQuery("#transcript_status_not_yet, #transcript_status_never").click(function(){jQuery("#transcript").hide()}),jQuery("#transcript_status_yes").click(function(){jQuery("#transcript").show()}),jQuery("#live_stream_no").click(function(){jQuery("#live_stream").hide()}),jQuery("#live_stream_yes").click(function(){jQuery("#live_stream").show()})}),function(e){var t=function(t,n,a){var o,i=this;t=e(t),n="function"==typeof n?n(t.val(),void 0,t,a):n,i.init=function(){a=a||{},i.byPassKeys=[9,16,17,18,36,37,38,39,40,91],i.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},i.translation=e.extend({},i.translation,a.translation),i=e.extend(!0,{},i,a),t.each(function(){!1!==a.maxlength&&t.attr("maxlength",n.length),t.attr("autocomplete","off"),s.destroyEvents(),s.events(),s.val(s.getMasked())})};var s={getCaret:function(){var e;e=0;var n=t.get(0),a=document.selection,o=n.selectionStart;return a&&!~navigator.appVersion.indexOf("MSIE 10")?(n.focus(),e=a.createRange(),e.moveStart("character",-n.value.length),e=e.text.length):(o||"0"===o)&&(e=o),e},setCaret:function(e){var n;n=t.get(0),n.setSelectionRange?(n.focus(),n.setSelectionRange(e,e)):n.createTextRange&&(n=n.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select())},events:function(){t.on("keydown.mask",function(){o=s.val()}),t.on("keyup.mask",s.behaviour),t.on("paste.mask",function(){setTimeout(function(){t.keydown().keyup()},100)})},destroyEvents:function(){t.off("keydown.mask keyup.mask paste.mask")},val:function(e){var n=t.is("input");return 0<arguments.length?n?t.val(e):t.text(e):n?t.val():t.text()},behaviour:function(t){t=t||window.event;var n=t.keyCode||t.which;if(-1===e.inArray(n,i.byPassKeys)){var a,o=s.getCaret();o<s.val().length&&(a=!0);var l=s.getMasked();return l!==s.val()&&s.val(l),!a||65===n&&t.ctrlKey||s.setCaret(o),s.callbacks(t)}},getMasked:function(e){var t,o,l=[],r=s.val(),c=0,u=n.length,d=0,p=r.length,y=1,m="push",f=-1;for(a.reverse?(m="unshift",y=-1,t=0,c=u-1,d=p-1,o=function(){return c>-1&&d>-1}):(t=u-1,o=function(){return u>c&&p>d});o();){var h=n.charAt(c),g=r.charAt(d),v=i.translation[h];v?(g.match(v.pattern)?(l[m](g),v.recursive&&(-1===f?f=c:c===t&&(c=f-y),t===f&&(c-=y)),c+=y):v.optional&&(c+=y,d-=y),d+=y):(e||l[m](h),g===h&&(d+=y),c+=y)}return e=n.charAt(t),u!==p+1||i.translation[e]||l.push(e),l.join("")},callbacks:function(e){var i=s.val(),l=s.val()!==o;!0===l&&"function"==typeof a.onChange&&a.onChange(i,e,t,a),!0===l&&"function"==typeof a.onKeyPress&&a.onKeyPress(i,e,t,a),"function"==typeof a.onComplete&&i.length===n.length&&a.onComplete(i,e,t,a)}};i.remove=function(){s.destroyEvents(),s.val(i.getCleanVal()).removeAttr("maxlength")},i.getCleanVal=function(){return s.getMasked(!0)},i.init()};e.fn.mask=function(n,a){return this.each(function(){e(this).data("mask",new t(this,n,a))})},e.fn.unmask=function(){return this.each(function(){try{e(this).data("mask").remove()}catch(t){}})},e.fn.cleanVal=function(){return e(this).data("mask").getCleanVal()},e("*[data-mask]").each(function(){var t=e(this),n={};"true"===t.attr("data-mask-reverse")&&(n.reverse=!0),"false"===t.attr("data-mask-maxlength")&&(n.maxlength=!1),t.mask(t.attr("data-mask"),n)})}(window.jQuery||window.Zepto),function(e){var t={method:"GET",contentType:"json",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",prePopulate:null,processPrePopulate:!1,idPrefix:"token-input-",resultsFormatter:function(e){return"<li>"+e[this.propertyToSearch]+"</li>"},tokenFormatter:function(e){return"<li><p>"+e[this.propertyToSearch]+"</p></li>"},onResult:null,onAdd:null,onDelete:null,onReady:null},n={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},a={BEFORE:0,AFTER:1,END:2},o={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},i={init:function(n,a){var o=e.extend({},t,a||{});return this.each(function(){e(this).data("tokenInputObject",new e.TokenList(this,n,o))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(e){return this.data("tokenInputObject").add(e),this},remove:function(e){return this.data("tokenInputObject").remove(e),this},get:function(){return this.data("tokenInputObject").getTokens()}};e.fn.tokenInput=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):i.init.apply(this,arguments)},e.TokenList=function(t,i,s){function l(){return null!==s.tokenLimit&&A>=s.tokenLimit?(S.hide(),void h()):void 0}function r(){if(R!==(R=S.val())){var e=R.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");V.html(e),S.width(V.width()+30)}}function c(t){var n=s.tokenFormatter(t);n=e(n).addClass(s.classes.token).insertBefore(M),e("<span>"+s.deleteText+"</span>").addClass(s.classes.tokenDelete).appendTo(n).click(function(){return m(e(this).parent()),P.change(),!1});var a={id:t.id};return a[s.propertyToSearch]=t[s.propertyToSearch],e.data(n.get(0),"tokeninput",t),b=b.slice(0,L).concat([a]).concat(b.slice(L)),L++,f(b,P),A+=1,null!==s.tokenLimit&&A>=s.tokenLimit&&(S.hide(),h()),n}function u(t){var n=s.onAdd;if(A>0&&s.preventDuplicates){var a=null;if(O.children().each(function(){var n=e(this),o=e.data(n.get(0),"tokeninput");return o&&o.id===t.id?(a=n,!1):void 0}),a)return d(a),M.insertAfter(a),void S.focus()}(null==s.tokenLimit||A<s.tokenLimit)&&(c(t),l()),S.val(""),h(),e.isFunction(n)&&n.call(P,t)}function d(e){e.addClass(s.classes.selectedToken),N=e.get(0),S.val(""),h()}function p(e,t){e.removeClass(s.classes.selectedToken),N=null,t===a.BEFORE?(M.insertBefore(e),L--):t===a.AFTER?(M.insertAfter(e),L++):(M.appendTo(O),L=A),S.focus()}function y(t){var n=N;N&&p(e(N),a.END),n===t.get(0)?p(t,a.END):d(t)}function m(t){var n=e.data(t.get(0),"tokeninput"),a=s.onDelete,o=t.prevAll().length;o>L&&o--,t.remove(),N=null,S.focus(),b=b.slice(0,o).concat(b.slice(o+1)),L>o&&L--,f(b,P),A-=1,null!==s.tokenLimit&&S.show().val("").focus(),e.isFunction(a)&&a.call(P,n)}function f(t,n){var a=e.map(t,function(e){return e[s.tokenValue]});n.val(a.join(s.tokenDelimiter))}function h(){W.hide().empty(),F=null}function g(){W.css({position:"absolute",top:e(O).offset().top+e(O).outerHeight(),left:e(O).offset().left,zindex:999}).show()}function v(){s.searchingText&&(W.html("<p>"+s.searchingText+"</p>"),g())}function k(){s.hintText&&(W.html("<p>"+s.hintText+"</p>"),g())}function E(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function T(e,t,n){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","g"),E(t,n))}function w(t,n){if(n&&n.length){W.empty();var a=e("<ul>").appendTo(W).mouseover(function(t){I(e(t.target).closest("li"))}).mousedown(function(t){return u(e(t.target).closest("li").data("tokeninput")),P.change(),!1}).hide();e.each(n,function(n,o){var i=s.resultsFormatter(o);i=T(i,o[s.propertyToSearch],t),i=e(i).appendTo(a),i.addClass(n%2?s.classes.dropdownItem:s.classes.dropdownItem2),0===n&&I(i),e.data(i.get(0),"tokeninput",o)}),g(),s.animateDropdown?a.slideDown("fast"):a.show()}else s.noResultsText&&(W.html("<p>"+s.noResultsText+"</p>"),g())}function I(t){t&&(F&&C(e(F)),t.addClass(s.classes.selectedDropdownItem),F=t.get(0))}function C(e){e.removeClass(s.classes.selectedDropdownItem),F=null}function _(){var t=S.val().toLowerCase();t&&t.length&&(N&&p(e(N),a.AFTER),t.length>=s.minChars?(v(),clearTimeout(D),D=setTimeout(function(){B(t)},s.searchDelay)):h())}function B(t){var n=t+j(),a=Q.get(n);if(a)w(t,a);else if(s.url){var o=j(),i={};if(i.data={},o.indexOf("?")>-1){var l=o.split("?");i.url=l[0];var r=l[1].split("&");e.each(r,function(e,t){var n=t.split("=");i.data[n[0]]=n[1]})}else i.url=o;i.data[s.queryParam]=t,i.type=s.method,i.dataType=s.contentType,s.crossDomain&&(i.dataType="jsonp"),i.success=function(a){e.isFunction(s.onResult)&&(a=s.onResult.call(P,a)),Q.add(n,s.jsonContainer?a[s.jsonContainer]:a),S.val().toLowerCase()===t&&w(t,s.jsonContainer?a[s.jsonContainer]:a)},e.ajax(i)}else if(s.local_data){var c=e.grep(s.local_data,function(e){return e[s.propertyToSearch].toLowerCase().indexOf(t.toLowerCase())>-1});e.isFunction(s.onResult)&&(c=s.onResult.call(P,c)),Q.add(n,c),w(t,c)}}function j(){var e=s.url;return"function"==typeof s.url&&(e=s.url.call()),e}if("string"===e.type(i)||"function"===e.type(i)){s.url=i;var x=j();void 0===s.crossDomain&&(s.crossDomain=-1===x.indexOf("://")?!1:location.href.split(/\/+/g)[1]!==x.split(/\/+/g)[1])}else"object"==typeof i&&(s.local_data=i);s.classes?s.classes=e.extend({},n,s.classes):s.theme?(s.classes={},e.each(n,function(e,t){s.classes[e]=t+"-"+s.theme})):s.classes=n;var D,R,b=[],A=0,Q=new e.TokenList.Cache,S=e('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",s.idPrefix+t.id).focus(function(){(null===s.tokenLimit||s.tokenLimit!==A)&&k()}).blur(function(){h(),e(this).val("")}).bind("keyup keydown blur update",r).keydown(function(t){var n,i;switch(t.keyCode){case o.LEFT:case o.RIGHT:case o.UP:case o.DOWN:if(e(this).val()){var s=null;return s=t.keyCode===o.DOWN||t.keyCode===o.RIGHT?e(F).next():e(F).prev(),s.length&&I(s),!1}n=M.prev(),i=M.next(),n.length&&n.get(0)===N||i.length&&i.get(0)===N?t.keyCode===o.LEFT||t.keyCode===o.UP?p(e(N),a.BEFORE):p(e(N),a.AFTER):t.keyCode!==o.LEFT&&t.keyCode!==o.UP||!n.length?t.keyCode!==o.RIGHT&&t.keyCode!==o.DOWN||!i.length||d(e(i.get(0))):d(e(n.get(0)));break;case o.BACKSPACE:if(n=M.prev(),!e(this).val().length)return N?(m(e(N)),P.change()):n.length&&d(e(n.get(0))),!1;1===e(this).val().length?h():setTimeout(function(){_()},5);break;case o.TAB:case o.ENTER:case o.NUMPAD_ENTER:case o.COMMA:if(F)return u(e(F).data("tokeninput")),P.change(),!1;break;case o.ESCAPE:return h(),!0;default:String.fromCharCode(t.which)&&setTimeout(function(){_()},5)}}),P=e(t).hide().val("").focus(function(){S.focus()}).blur(function(){S.blur()}),N=null,L=0,F=null,O=e("<ul />").addClass(s.classes.tokenList).click(function(t){var n=e(t.target).closest("li");n&&n.get(0)&&e.data(n.get(0),"tokeninput")?y(n):(N&&p(e(N),a.END),S.focus())}).mouseover(function(t){var n=e(t.target).closest("li");n&&N!==this&&n.addClass(s.classes.highlightedToken)}).mouseout(function(t){var n=e(t.target).closest("li");n&&N!==this&&n.removeClass(s.classes.highlightedToken)}).insertBefore(P),M=e("<li />").addClass(s.classes.inputToken).appendTo(O).append(S),W=e("<div>").addClass(s.classes.dropdown).appendTo("body").hide(),V=e("<tester/>").insertAfter(S).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:S.css("fontSize"),fontFamily:S.css("fontFamily"),fontWeight:S.css("fontWeight"),letterSpacing:S.css("letterSpacing"),whiteSpace:"nowrap"});P.val("");var z=s.prePopulate||P.data("pre");s.processPrePopulate&&e.isFunction(s.onResult)&&(z=s.onResult.call(P,z)),z&&z.length&&e.each(z,function(e,t){c(t),l()}),e.isFunction(s.onReady)&&s.onReady.call(),this.clear=function(){O.children("li").each(function(){0===e(this).children("input").length&&m(e(this))})},this.add=function(e){u(e)},this.remove=function(t){O.children("li").each(function(){if(0===e(this).children("input").length){var n=e(this).data("tokeninput"),a=!0;for(var o in t)if(t[o]!==n[o]){a=!1;break}a&&m(e(this))}})},this.getTokens=function(){return b}},e.TokenList.Cache=function(t){var n=e.extend({max_size:500},t),a={},o=0,i=function(){a={},o=0};this.add=function(e,t){o>n.max_size&&i(),a[e]||(o+=1),a[e]=t},this.get=function(e){return a[e]}}}(jQuery),jQuery("#speaker-names").tokenInput(speakers,{onAdd:addId,onDelete:removeId,preventDuplicates:!0,prePopulate:prepopulate});